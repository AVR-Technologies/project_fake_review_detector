<!DOCTYPE html>
<html>
  <head>
    <title>S Mart</title>
    <!-- title of website tab-->
    <link rel="stylesheet" 
          href="libs/mdl/material.min.css">
    <!-- include mdl stylesheet -->
    <script src="libs/mdl/material.min.js"></script>
    <!-- include mdl javascript -->
    <link rel="stylesheet" 
          href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- include mdl icons -->
    <link rel="stylesheet" 
          href="./global_style.css">
    <!-- include custom stylesheet -->
    <link rel="stylesheet" 
          href="style.css">
    <!-- include global_style from top directory -->
    <script src="./libs/jquery/jquery.min.js"></script>
    <!-- include jquery library -->
    <meta name="viewport" 
          content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="mdl-layout 
                mdl-js-layout 
                mdl-layout--fixed-header">
      
      <!-- header layout -->
      <header class=" white-header 
                      mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">S Mart</span>
          <!-- title of webpage -->
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation-->
          <nav class="mdl-navigation">
            <a  class="mdl-navigation__link session_unavailable"
                href="./login">Login</a>
            <a  class="mdl-navigation__link session_unavailable" 
                href="./register">Register</a>
            <a  class="mdl-navigation__link session_available" 
                onclick="logout()">Logout</a>
          </nav>
        </div>
      </header>

      <!-- main layout -->
      <main class="mdl-layout__content">
        <div class="page-content">
          <!-- your content goes here -->

          <!-- title card -->
          <div class="mdl-shadow--2dp 
                      title_card 
                      border_radius_20">
            <div class="mdl-card__title">
              <h2 class=" mdl-card__title-text 
                          weight-700 
                          color-grey">Categories</h2>
            </div>
          </div>

          <!-- Shop category card -->

          <div class="mdl-card 
                      mdl-shadow--2dp 
                      shop_category_card 
                      border_radius_20">
            <div class="mdl-card__title">
              <img  class="shop_category_card_image" 
                    src="./images/categories/redmi_6.jpeg" 
                    id="shop_category_card_image">
            </div>

            <div class="mdl-card__actions
                        top-border 
                        border_radius_20">
              <a  class=" mdl-card__title-text
                          weight-700 
                          color-grey"
                  href="./products/?category=Mobiles" 
                  id="shop_item_card_link">Mobiles
              </a>
            </div>

          </div>

          <!-- Shop category card -->
          
          <div class="mdl-card 
                      mdl-shadow--2dp 
                      shop_category_card 
                      border_radius_20">
            <div class="mdl-card__title">
              <img  class="shop_category_card_image" 
                    src="./images/categories/laptop.jpg" 
                    id="shop_category_card_image">
            </div>

            <div class="mdl-card__actions
                        top-border 
                        border_radius_20">
              <a  class=" mdl-card__title-text 
                          weight-700 
                          color-grey"
                  href="./products/?category=Laptops" 
                  id="shop_item_card_link">Laptops
              </a>
            </div>

          </div>

          <!-- Shop category card -->

          <div class="mdl-card 
                      mdl-shadow--2dp 
                      shop_category_card
                      border_radius_20">
            <div class="mdl-card__title">
              <img  class="shop_category_card_image" 
                    src="./images/categories/tv.jpeg" 
                    id="shop_category_card_image">
            </div>

            <div class="mdl-card__actions
                        top-border 
                        border_radius_20">
              <a  class=" mdl-card__title-text 
                          weight-700 
                          color-grey"
                  href="./products/?category=TVs" 
                  id="shop_item_card_link">TVs
              </a>
            </div>
          </div>

          <!-- Shop category card -->

          <div class="mdl-card mdl-shadow--2dp 
                      shop_category_card 
                      border_radius_20">
            <div class="mdl-card__title">
              <img  class="shop_category_card_image" 
                    src="./images/categories/headphones.jpg" 
                    id="shop_category_card_image">
            </div>

            <div class="mdl-card__actions
                        top-border 
                        border_radius_20">
              <a  class=" mdl-card__title-text  
                          weight-700 
                          color-grey" 
                  href="./products/?category=Headphones" 
                  id="shop_item_card_link">Headphones
              </a>
            </div>

          </div>
          
        </div>
      </main>
    </div>
  </body>
</html>
<script type="text/javascript">
  //init page
  //check if user has signed in
  checkSession();

  // check if user signed in
  function checkSession(){
    var url = "user_check_session/";
    $.get(url,function(data, status){
      var response  = JSON.parse(data);
      var success   = response.success;
      var message   = response.message;
      if (success)  {  
        console.log(response.user_mail);
        $(".session_available").show();
        $(".session_unavailable").hide();
      }
      else          {  
        $(".session_available").hide();
        $(".session_unavailable").show();
      }
    });
  }
  //logout
  function logout(){
    var url = "logout/";
    $.get(url,function(data, status){
      var response  = JSON.parse(data);
      var success   = response.success;
      var message   = response.message;
      if (success)  {  
        $(".session_available").hide();
        $(".session_unavailable").show();
      }
      else          {  
        $(".session_available").show();
        $(".session_unavailable").hide();
      }
    });
  }
</script>
